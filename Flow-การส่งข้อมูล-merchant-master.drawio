<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.36 Edg/127.0.0.0" version="24.7.8" pages="2">
  <diagram id="prtHgNgQTEPvFCAcTncT" name="Page-1">
    <mxGraphModel dx="1118" dy="607" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="dNxyNK7c78bLwvsdeMH5-19" value="Service" style="swimlane;html=1;childLayout=stackLayout;resizeParent=1;resizeParentMax=0;horizontal=0;startSize=20;horizontalStack=0;" parent="1" vertex="1">
          <mxGeometry x="100" y="80" width="1260" height="475" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="dNxyNK7c78bLwvsdeMH5-19" source="3QaK9X_xWefMJjQvL3ul-4" target="3QaK9X_xWefMJjQvL3ul-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="dNxyNK7c78bLwvsdeMH5-19" source="3QaK9X_xWefMJjQvL3ul-6" target="3QaK9X_xWefMJjQvL3ul-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dNxyNK7c78bLwvsdeMH5-20" value="StoreHub" style="swimlane;html=1;startSize=20;horizontal=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="dNxyNK7c78bLwvsdeMH5-19" vertex="1">
          <mxGeometry x="20" width="1240" height="265" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-49" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="dNxyNK7c78bLwvsdeMH5-20" source="dNxyNK7c78bLwvsdeMH5-23" target="3QaK9X_xWefMJjQvL3ul-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-50" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="dNxyNK7c78bLwvsdeMH5-20" source="dNxyNK7c78bLwvsdeMH5-23" target="3QaK9X_xWefMJjQvL3ul-24" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="410" y="30" />
              <mxPoint x="410" y="95" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-51" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="dNxyNK7c78bLwvsdeMH5-20" source="dNxyNK7c78bLwvsdeMH5-23" target="3QaK9X_xWefMJjQvL3ul-25" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="410" y="30" />
              <mxPoint x="410" y="165" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="dNxyNK7c78bLwvsdeMH5-23" value="start" style="ellipse;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="dNxyNK7c78bLwvsdeMH5-20" vertex="1">
          <mxGeometry x="40" y="10" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-3" value="" style="group" parent="dNxyNK7c78bLwvsdeMH5-20" vertex="1" connectable="0">
          <mxGeometry x="680" y="80" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-2" value="Process Hub Shipping Type" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="3QaK9X_xWefMJjQvL3ul-3" vertex="1">
          <mxGeometry y="20" width="180" height="60" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-1" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#E7157B;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.sqs;" parent="3QaK9X_xWefMJjQvL3ul-3" vertex="1">
          <mxGeometry x="160" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-4" value="create-hub" style="html=1;dashed=0;whiteSpace=wrap;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="dNxyNK7c78bLwvsdeMH5-20" vertex="1">
          <mxGeometry x="150" y="70" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-5" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="dNxyNK7c78bLwvsdeMH5-20" source="dNxyNK7c78bLwvsdeMH5-23" target="3QaK9X_xWefMJjQvL3ul-4" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="220" y="180" as="sourcePoint" />
            <mxPoint x="660" y="180" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-6" value="update-hub" style="html=1;dashed=0;whiteSpace=wrap;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="dNxyNK7c78bLwvsdeMH5-20" vertex="1">
          <mxGeometry x="290" y="70" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-18" value="&lt;font color=&quot;#cc0000&quot;&gt;ส่ง &lt;b&gt;enable = &#39;N&#39; และ&amp;nbsp;&lt;/b&gt;&lt;/font&gt;&lt;div&gt;&lt;font color=&quot;#cc0000&quot;&gt;&lt;b&gt;is delete = &#39;N&#39;&lt;/b&gt; เพื่อให้ร้านยังใช้งานไม่ได้&lt;/font&gt;&lt;/div&gt;" style="shape=note2;boundedLbl=1;whiteSpace=wrap;html=1;size=25;verticalAlign=top;align=center;" parent="dNxyNK7c78bLwvsdeMH5-20" vertex="1">
          <mxGeometry x="70" y="160" width="120" height="90" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-19" value="&lt;font color=&quot;#cc0000&quot;&gt;ส่ง &lt;b&gt;enable = &#39;N&#39; และ&amp;nbsp;&lt;/b&gt;&lt;/font&gt;&lt;div&gt;&lt;font color=&quot;#cc0000&quot;&gt;&lt;b&gt;is delete = &#39;N&#39; &lt;/b&gt;เพื่อให้ร้านยังใช้งานไม่ได้&lt;/font&gt;&lt;/div&gt;" style="shape=note2;boundedLbl=1;whiteSpace=wrap;html=1;size=25;verticalAlign=top;align=center;" parent="dNxyNK7c78bLwvsdeMH5-20" vertex="1">
          <mxGeometry x="214" y="160" width="120" height="90" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-27" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="dNxyNK7c78bLwvsdeMH5-20" target="3QaK9X_xWefMJjQvL3ul-2" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="580" y="80" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-24" value="ผูกโครงการ / โครงการ Darkstore" style="html=1;dashed=0;whiteSpace=wrap;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="dNxyNK7c78bLwvsdeMH5-20" vertex="1">
          <mxGeometry x="440" y="70" width="140" height="50" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-29" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="dNxyNK7c78bLwvsdeMH5-20" source="3QaK9X_xWefMJjQvL3ul-25" target="3QaK9X_xWefMJjQvL3ul-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-25" value="ผูกร้านลูก / ร้านลูก Darkstore" style="html=1;dashed=0;whiteSpace=wrap;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="dNxyNK7c78bLwvsdeMH5-20" vertex="1">
          <mxGeometry x="440" y="140" width="140" height="50" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-46" value="&lt;font color=&quot;#cc0000&quot;&gt;ส่งข้อมูลไป update-merchant เฉพาะ hub ที่มี shippingTypeId 2,3 และ ปรับ &lt;b&gt;enable = &#39;Y&#39;&lt;/b&gt; และ &lt;b&gt;is_delete = &#39;N&#39; &lt;/b&gt;เพื่อให้ร้านมีผลใช้งานได้&lt;/font&gt;" style="shape=note2;boundedLbl=1;whiteSpace=wrap;html=1;size=25;verticalAlign=top;align=center;" parent="dNxyNK7c78bLwvsdeMH5-20" vertex="1">
          <mxGeometry x="780" y="170" width="410" height="80" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-52" value="&lt;font color=&quot;#cc0000&quot;&gt;เพิ่ม Logic การส่งข้อมูล hub master ที่มี shippingTypeId เป็น 2,3 โดยส่งไป sqs&lt;/font&gt;" style="shape=note2;boundedLbl=1;whiteSpace=wrap;html=1;size=25;verticalAlign=top;align=center;" parent="dNxyNK7c78bLwvsdeMH5-20" vertex="1">
          <mxGeometry x="890" y="60" width="300" height="80" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-117" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="dNxyNK7c78bLwvsdeMH5-19" source="3QaK9X_xWefMJjQvL3ul-2" target="3QaK9X_xWefMJjQvL3ul-115" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dNxyNK7c78bLwvsdeMH5-21" value="OSH" style="swimlane;html=1;startSize=20;horizontal=0;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="dNxyNK7c78bLwvsdeMH5-19" vertex="1">
          <mxGeometry x="20" y="265" width="1240" height="210" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-7" value="create-merchant" style="html=1;dashed=0;whiteSpace=wrap;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="dNxyNK7c78bLwvsdeMH5-21" vertex="1">
          <mxGeometry x="150" y="35" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-8" value="update-merchant" style="html=1;dashed=0;whiteSpace=wrap;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="dNxyNK7c78bLwvsdeMH5-21" vertex="1">
          <mxGeometry x="290" y="35" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-20" value="&lt;font style=&quot;font-size: 11px;&quot; color=&quot;#cc0000&quot;&gt;ปรับให้รองรับ req.body หลายตัว Array() และเพิ่มการ update column enable และ is_delete&lt;/font&gt;" style="shape=note2;boundedLbl=1;whiteSpace=wrap;html=1;size=25;verticalAlign=top;align=center;" parent="dNxyNK7c78bLwvsdeMH5-21" vertex="1">
          <mxGeometry x="290" y="95" width="240" height="70" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-53" value="&lt;font style=&quot;font-size: 11px;&quot; color=&quot;#cc0000&quot;&gt;เพิ่มการ insert column enable และ is_delete&lt;/font&gt;" style="shape=note2;boundedLbl=1;whiteSpace=wrap;html=1;size=25;verticalAlign=top;align=center;" parent="dNxyNK7c78bLwvsdeMH5-21" vertex="1">
          <mxGeometry x="90" y="95" width="160" height="70" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-113" value="" style="group" parent="dNxyNK7c78bLwvsdeMH5-21" vertex="1" connectable="0">
          <mxGeometry x="680" y="25" width="200" height="85" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-114" value="" style="group" parent="3QaK9X_xWefMJjQvL3ul-113" vertex="1" connectable="0">
          <mxGeometry x="-10" width="210" height="85" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-115" value="Process Merchant Shipping Type" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="3QaK9X_xWefMJjQvL3ul-114" vertex="1">
          <mxGeometry y="25" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-116" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#E7157B;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.sqs;" parent="3QaK9X_xWefMJjQvL3ul-114" vertex="1">
          <mxGeometry x="170" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-118" value="&lt;font color=&quot;#cc0000&quot;&gt;update ข้อมูล merchant_master ให้ &lt;b&gt;enable = &#39;Y&#39;&lt;/b&gt; และ &lt;b&gt;is_delete&lt;/b&gt; = &#39;N&#39;&lt;/font&gt;" style="shape=note2;boundedLbl=1;whiteSpace=wrap;html=1;size=25;verticalAlign=top;align=center;" parent="dNxyNK7c78bLwvsdeMH5-21" vertex="1">
          <mxGeometry x="850" y="122.5" width="290" height="75" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-119" value="&lt;font color=&quot;#cc0000&quot;&gt;แก้ไข query ฝั่ง osh master ของ api /count-merchant-store-relation ให้ยกเลิกการ where enable = &#39;Y&#39; เนื่องจากจะต้องนำข้อมูลไปตรวจสอบกับ sqs Process Hub Shipping Type&lt;/font&gt;" style="shape=note2;boundedLbl=1;whiteSpace=wrap;html=1;size=25;verticalAlign=top;align=center;fontStyle=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="dNxyNK7c78bLwvsdeMH5-21" vertex="1">
          <mxGeometry x="910" y="20" width="270" height="95" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-54" value="Service" style="swimlane;html=1;childLayout=stackLayout;resizeParent=1;resizeParentMax=0;horizontal=0;startSize=20;horizontalStack=0;" parent="1" vertex="1">
          <mxGeometry x="100" y="650" width="1260" height="505" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-88" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="3QaK9X_xWefMJjQvL3ul-54" source="3QaK9X_xWefMJjQvL3ul-63" target="3QaK9X_xWefMJjQvL3ul-85" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-57" value="StoreHub" style="swimlane;html=1;startSize=20;horizontal=0;fillColor=#dae8fc;strokeColor=#6c8ebf;absoluteArcSize=0;labelBackgroundColor=none;" parent="3QaK9X_xWefMJjQvL3ul-54" vertex="1">
          <mxGeometry x="20" width="1240" height="295" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-99" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="3QaK9X_xWefMJjQvL3ul-57" source="3QaK9X_xWefMJjQvL3ul-61" target="3QaK9X_xWefMJjQvL3ul-96" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-100" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="3QaK9X_xWefMJjQvL3ul-57" source="3QaK9X_xWefMJjQvL3ul-61" target="3QaK9X_xWefMJjQvL3ul-95" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-101" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="3QaK9X_xWefMJjQvL3ul-57" source="3QaK9X_xWefMJjQvL3ul-61" target="3QaK9X_xWefMJjQvL3ul-97" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="270" y="110" />
              <mxPoint x="270" y="145" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-102" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="3QaK9X_xWefMJjQvL3ul-57" source="3QaK9X_xWefMJjQvL3ul-61" target="3QaK9X_xWefMJjQvL3ul-98" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="270" y="110" />
              <mxPoint x="270" y="205" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-61" value="start" style="ellipse;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="3QaK9X_xWefMJjQvL3ul-57" vertex="1">
          <mxGeometry x="50" y="90" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-83" value="" style="group" parent="3QaK9X_xWefMJjQvL3ul-57" vertex="1" connectable="0">
          <mxGeometry x="660" y="30" width="190" height="85" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-63" value="Process Hub Shipping Type" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="3QaK9X_xWefMJjQvL3ul-83" vertex="1">
          <mxGeometry y="25" width="180" height="60" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-64" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#E7157B;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.sqs;" parent="3QaK9X_xWefMJjQvL3ul-83" vertex="1">
          <mxGeometry x="150" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-89" value="&lt;font color=&quot;#cc0000&quot;&gt;เพิ่ม Logic การส่งข้อมูล hub shipping Type ที่มี shippingTypeId เป็น 2,3 โดยส่งไป sqs ของ osh&lt;/font&gt;" style="shape=note2;boundedLbl=1;whiteSpace=wrap;html=1;size=25;verticalAlign=top;align=center;" parent="3QaK9X_xWefMJjQvL3ul-57" vertex="1">
          <mxGeometry x="790" y="130" width="180" height="100" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-105" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="3QaK9X_xWefMJjQvL3ul-57" source="3QaK9X_xWefMJjQvL3ul-95" target="3QaK9X_xWefMJjQvL3ul-63" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="550" y="80" />
              <mxPoint x="605" y="80" />
              <mxPoint x="605" y="85" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-95" value="create-hub" style="html=1;dashed=0;whiteSpace=wrap;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="3QaK9X_xWefMJjQvL3ul-57" vertex="1">
          <mxGeometry x="450" y="65" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-103" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="3QaK9X_xWefMJjQvL3ul-57" source="3QaK9X_xWefMJjQvL3ul-96" target="3QaK9X_xWefMJjQvL3ul-63" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="610" y="35" />
              <mxPoint x="610" y="85" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-96" value="update-hub" style="html=1;dashed=0;whiteSpace=wrap;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="3QaK9X_xWefMJjQvL3ul-57" vertex="1">
          <mxGeometry x="450" y="10" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-106" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="3QaK9X_xWefMJjQvL3ul-57" source="3QaK9X_xWefMJjQvL3ul-97" target="3QaK9X_xWefMJjQvL3ul-63" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-97" value="ผูกโครงการ / โครงการ Darkstore" style="html=1;dashed=0;whiteSpace=wrap;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="3QaK9X_xWefMJjQvL3ul-57" vertex="1">
          <mxGeometry x="430" y="120" width="140" height="50" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-107" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="3QaK9X_xWefMJjQvL3ul-57" source="3QaK9X_xWefMJjQvL3ul-98" target="3QaK9X_xWefMJjQvL3ul-63" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-98" value="ผูกร้านลูก / ร้านลูก Darkstore" style="html=1;dashed=0;whiteSpace=wrap;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="3QaK9X_xWefMJjQvL3ul-57" vertex="1">
          <mxGeometry x="430" y="180" width="140" height="50" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-131" value="&lt;font color=&quot;#ff0000&quot;&gt;ตอนผูกร้านลูก Darkstore API ฝั่ง OSH มีการตรวจสอบ merchant_master ดังนั้นหากไม่มีข้อมูลจะไม่มีข้อมูลร้านลูกของ hub เลย&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="3QaK9X_xWefMJjQvL3ul-57" vertex="1">
          <mxGeometry x="310" y="240" width="375" height="30" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-77" value="OSH" style="swimlane;html=1;startSize=20;horizontal=0;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="3QaK9X_xWefMJjQvL3ul-54" vertex="1">
          <mxGeometry x="20" y="295" width="1240" height="210" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-84" value="" style="group" parent="3QaK9X_xWefMJjQvL3ul-77" vertex="1" connectable="0">
          <mxGeometry x="660" y="15" width="200" height="85" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-87" value="" style="group" parent="3QaK9X_xWefMJjQvL3ul-84" vertex="1" connectable="0">
          <mxGeometry x="-10" width="210" height="85" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-85" value="Process Merchant Shipping Type" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="3QaK9X_xWefMJjQvL3ul-87" vertex="1">
          <mxGeometry y="25" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-86" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#E7157B;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.sqs;" parent="3QaK9X_xWefMJjQvL3ul-87" vertex="1">
          <mxGeometry x="170" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-90" value="&lt;font color=&quot;#cc0000&quot;&gt;update merchant master ด้วย merchant_id นั้นๆ และ shippingType ที่เป็น 2,3&lt;/font&gt;" style="shape=note2;boundedLbl=1;whiteSpace=wrap;html=1;size=25;verticalAlign=top;align=center;" parent="3QaK9X_xWefMJjQvL3ul-77" vertex="1">
          <mxGeometry x="637" y="115" width="246" height="75" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-94" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=210;exitDy=65;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="3QaK9X_xWefMJjQvL3ul-77" source="3QaK9X_xWefMJjQvL3ul-82" target="3QaK9X_xWefMJjQvL3ul-74" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-108" value="&lt;font color=&quot;#cc0000&quot;&gt;แก้ไข query ฝั่ง osh ทุกตัว ให้เพิ่มการ where ด้วย shippng_type_id IN (2,3) โดยอ้างอิงจากที่เพิ่ม is_delete&lt;/font&gt;" style="shape=note2;boundedLbl=1;whiteSpace=wrap;html=1;size=25;verticalAlign=top;align=center;fontStyle=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="3QaK9X_xWefMJjQvL3ul-77" vertex="1">
          <mxGeometry x="950" y="55" width="246" height="90" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-109" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="3QaK9X_xWefMJjQvL3ul-77" source="3QaK9X_xWefMJjQvL3ul-85" target="3QaK9X_xWefMJjQvL3ul-108" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-126" value="" style="group" parent="3QaK9X_xWefMJjQvL3ul-77" vertex="1" connectable="0">
          <mxGeometry x="360" y="65" width="210" height="133" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-74" value="&lt;font color=&quot;#cc0000&quot;&gt;เพิ่ม column &lt;b&gt;shipping_type_id&lt;/b&gt; ใน table &lt;b&gt;merchant_master &lt;/b&gt;โดยมี default เป็น 1 อ้างอิงจากการสร้าง create-hub&lt;/font&gt;" style="shape=note2;boundedLbl=1;whiteSpace=wrap;html=1;size=25;verticalAlign=top;align=center;" parent="3QaK9X_xWefMJjQvL3ul-126" vertex="1">
          <mxGeometry width="210" height="100" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-124" value="" style="sketch=0;pointerEvents=1;shadow=0;dashed=0;html=1;strokeColor=none;fillColor=#505050;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;outlineConnect=0;align=center;shape=mxgraph.office.concepts.column;" parent="3QaK9X_xWefMJjQvL3ul-126" vertex="1">
          <mxGeometry y="90" width="52" height="43" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-130" value="" style="group" parent="3QaK9X_xWefMJjQvL3ul-77" vertex="1" connectable="0">
          <mxGeometry x="70" y="55" width="240" height="135" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-82" value="&lt;font color=&quot;#cc0000&quot;&gt;สร้าง table&amp;nbsp;&lt;b&gt;shipping_type_master&lt;/b&gt;&amp;nbsp;ใน Database&lt;/font&gt;" style="shape=note2;boundedLbl=1;whiteSpace=wrap;html=1;size=25;verticalAlign=top;align=center;" parent="3QaK9X_xWefMJjQvL3ul-130" vertex="1">
          <mxGeometry x="30" width="210" height="105" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-129" value="" style="group" parent="3QaK9X_xWefMJjQvL3ul-130" vertex="1" connectable="0">
          <mxGeometry y="55" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-120" value="" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" parent="3QaK9X_xWefMJjQvL3ul-129" vertex="1">
          <mxGeometry width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-128" value="OSH" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="3QaK9X_xWefMJjQvL3ul-129" vertex="1">
          <mxGeometry y="35" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-91" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=92.5;entryDy=0;entryPerimeter=0;" parent="3QaK9X_xWefMJjQvL3ul-54" source="3QaK9X_xWefMJjQvL3ul-61" target="3QaK9X_xWefMJjQvL3ul-82" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-110" value="Solution 1 แก้ไขด้วยการ สร้าง merchant_master&amp;nbsp; เริ่มต้นด้วย enable = &#39;N&#39; แล้วเปลี่ยนเป็น &#39;Y&#39; เมื่อมี shippingTypeId เป็น 2, 3" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;" parent="1" vertex="1">
          <mxGeometry x="100" y="40" width="1190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="3QaK9X_xWefMJjQvL3ul-112" value="&lt;span style=&quot;color: rgb(0, 0, 0); font-family: Helvetica; font-size: 20px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(251, 251, 251); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;&quot;&gt;Solution 2 แก้ไขด้วยการ เพิ่ม column เพื่อระบุว่า merchant_id มี shippingTypeId เป็น 1,2,3&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="100" y="610" width="1150" height="50" as="geometry" />
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--40" value="&lt;span style=&quot;color: rgb(0, 0, 0); font-family: Helvetica; font-size: 20px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(251, 251, 251); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;&quot;&gt;Solution 3 เปลี่ยนวิธีการทำงาน จะสร้าง delivery_round, merchant_store_relation, merchant_product_master ที่ OSH โดยไม่สนใจ merchant_master&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="100" y="1209" width="1310" height="50" as="geometry" />
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--41" value="Service" style="swimlane;html=1;childLayout=stackLayout;resizeParent=1;resizeParentMax=0;horizontal=0;startSize=20;horizontalStack=0;" vertex="1" parent="1">
          <mxGeometry x="100" y="1259" width="2570" height="1160" as="geometry" />
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--95" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="FbjrAj_LGcpirVrRB6C--41" source="FbjrAj_LGcpirVrRB6C--54" target="FbjrAj_LGcpirVrRB6C--65">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--96" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="FbjrAj_LGcpirVrRB6C--41" source="FbjrAj_LGcpirVrRB6C--52" target="FbjrAj_LGcpirVrRB6C--66">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--99" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="FbjrAj_LGcpirVrRB6C--41" source="FbjrAj_LGcpirVrRB6C--60" target="FbjrAj_LGcpirVrRB6C--98">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--106" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="FbjrAj_LGcpirVrRB6C--41" source="FbjrAj_LGcpirVrRB6C--60" target="FbjrAj_LGcpirVrRB6C--101">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--107" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="FbjrAj_LGcpirVrRB6C--41" source="FbjrAj_LGcpirVrRB6C--60" target="FbjrAj_LGcpirVrRB6C--102">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--108" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="FbjrAj_LGcpirVrRB6C--41" source="FbjrAj_LGcpirVrRB6C--85" target="FbjrAj_LGcpirVrRB6C--87">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--44" value="StoreHub" style="swimlane;html=1;startSize=20;horizontal=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="FbjrAj_LGcpirVrRB6C--41">
          <mxGeometry x="20" width="2550" height="850" as="geometry" />
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--45" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="FbjrAj_LGcpirVrRB6C--44" source="FbjrAj_LGcpirVrRB6C--48" target="FbjrAj_LGcpirVrRB6C--54">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--75" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="FbjrAj_LGcpirVrRB6C--44" source="FbjrAj_LGcpirVrRB6C--48" target="FbjrAj_LGcpirVrRB6C--58">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="430" y="30" />
              <mxPoint x="430" y="66" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--76" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="FbjrAj_LGcpirVrRB6C--44" source="FbjrAj_LGcpirVrRB6C--48" target="FbjrAj_LGcpirVrRB6C--60">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="430" y="30" />
              <mxPoint x="430" y="145" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--86" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="FbjrAj_LGcpirVrRB6C--44" source="FbjrAj_LGcpirVrRB6C--48" target="FbjrAj_LGcpirVrRB6C--85">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="430" y="30" />
              <mxPoint x="430" y="216" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--48" value="start" style="ellipse;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="FbjrAj_LGcpirVrRB6C--44">
          <mxGeometry x="40" y="10" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--49" value="" style="group" vertex="1" connectable="0" parent="FbjrAj_LGcpirVrRB6C--44">
          <mxGeometry x="1490" y="51" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--50" value="Process Hub Shipping Type" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="FbjrAj_LGcpirVrRB6C--49">
          <mxGeometry y="20" width="180" height="60" as="geometry" />
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--51" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#E7157B;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.sqs;" vertex="1" parent="FbjrAj_LGcpirVrRB6C--49">
          <mxGeometry x="160" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--52" value="create-hub" style="html=1;dashed=0;whiteSpace=wrap;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="FbjrAj_LGcpirVrRB6C--44">
          <mxGeometry x="150" y="70" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--53" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="FbjrAj_LGcpirVrRB6C--44" source="FbjrAj_LGcpirVrRB6C--48" target="FbjrAj_LGcpirVrRB6C--52">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="220" y="180" as="sourcePoint" />
            <mxPoint x="660" y="180" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--54" value="update-hub" style="html=1;dashed=0;whiteSpace=wrap;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="FbjrAj_LGcpirVrRB6C--44">
          <mxGeometry x="310" y="70" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--55" value="&lt;font color=&quot;#cc0000&quot;&gt;ส่ง req สำหรับ insert ใน OSH table delivery_round&lt;/font&gt;" style="shape=note2;boundedLbl=1;whiteSpace=wrap;html=1;size=25;verticalAlign=top;align=center;" vertex="1" parent="FbjrAj_LGcpirVrRB6C--44">
          <mxGeometry x="40" y="151" width="150" height="70" as="geometry" />
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--56" value="&lt;span style=&quot;color: rgb(204, 0, 0);&quot;&gt;ส่ง req เหมือนเดิม หรือแก้ไข req เฉพาะที่ update&lt;/span&gt;" style="shape=note2;boundedLbl=1;whiteSpace=wrap;html=1;size=25;verticalAlign=top;align=center;" vertex="1" parent="FbjrAj_LGcpirVrRB6C--44">
          <mxGeometry x="214" y="151" width="136" height="69" as="geometry" />
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--79" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="FbjrAj_LGcpirVrRB6C--44" source="FbjrAj_LGcpirVrRB6C--58" target="FbjrAj_LGcpirVrRB6C--50">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1260" y="66" />
              <mxPoint x="1260" y="101" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--58" value="ผูกโครงการ / โครงการ Darkstore" style="html=1;dashed=0;whiteSpace=wrap;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="FbjrAj_LGcpirVrRB6C--44">
          <mxGeometry x="500" y="41" width="140" height="50" as="geometry" />
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--81" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="FbjrAj_LGcpirVrRB6C--44" source="FbjrAj_LGcpirVrRB6C--60" target="FbjrAj_LGcpirVrRB6C--50">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1260" y="145" />
              <mxPoint x="1260" y="101" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--60" value="ผูกร้านลูก / ร้านลูก Darkstore" style="html=1;dashed=0;whiteSpace=wrap;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="FbjrAj_LGcpirVrRB6C--44">
          <mxGeometry x="500" y="120" width="140" height="50" as="geometry" />
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--62" value="&lt;font color=&quot;#cc0000&quot;&gt;&lt;b&gt;เพิ่ม Logic การตรวจสอบข้อมูล shippingType ว่าต้อง create หรือ delete ที่ OSH และส่งข้อมูล hub master ที่มี action แล้ว ส่งไป sqs ที่ OSH เพื่อสร้างข้อมูล merchant_master&lt;/b&gt;&lt;/font&gt;" style="shape=note2;boundedLbl=1;whiteSpace=wrap;html=1;size=25;verticalAlign=top;align=center;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="FbjrAj_LGcpirVrRB6C--44">
          <mxGeometry x="1730" y="61" width="360" height="90" as="geometry" />
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--85" value="&lt;span style=&quot;text-align: left;&quot;&gt;permanent-delete-hub&lt;/span&gt;" style="html=1;dashed=0;whiteSpace=wrap;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="FbjrAj_LGcpirVrRB6C--44">
          <mxGeometry x="500" y="191" width="140" height="50" as="geometry" />
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--83" value="&lt;font color=&quot;#cc0000&quot;&gt;&lt;b&gt;- ถ้า shippingTypeId เดิมของ Hub เป็น 0 หรือ 1 และของล่าสุดคือ 2 หรือ 3 จะสร้าง message hub information และ &lt;u&gt;action = add&lt;/u&gt;&lt;/b&gt;&lt;/font&gt;&lt;div&gt;&lt;font color=&quot;#cc0000&quot;&gt;&lt;b&gt;-&amp;nbsp;&lt;/b&gt;&lt;/font&gt;&lt;b style=&quot;background-color: initial; color: rgb(204, 0, 0);&quot;&gt;ถ้า shippingTypeId เดิมของ Hub เป็น 2 หรือ 3 และของล่าสุดคือ 0 หรือ 1&lt;/b&gt;&lt;b style=&quot;background-color: initial; color: rgb(204, 0, 0);&quot;&gt;&amp;nbsp;จะสร้าง message hub information และ &lt;u&gt;action = delete&lt;/u&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;background-color: initial; color: rgb(204, 0, 0);&quot;&gt;- ถ้า shippingTypeId เดิมของ Hub ไม่เคยมีอยู่ และของล่าสุดคือ 2 หรือ 3 จะสร้าง&amp;nbsp;&lt;/b&gt;&lt;b style=&quot;background-color: initial; color: rgb(204, 0, 0);&quot;&gt;&amp;nbsp;message hub information และ&amp;nbsp;&lt;u&gt;action = add&lt;/u&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;background-color: initial; color: rgb(204, 0, 0);&quot;&gt;- ถ้า shippingTypeId เดิมของ Hub และของล่าสุด เหมือนเดิม! ไม่ต้องทำอะไร!&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="FbjrAj_LGcpirVrRB6C--44">
          <mxGeometry x="1570" y="701" width="850" height="79" as="geometry" />
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--118" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="FbjrAj_LGcpirVrRB6C--44" source="FbjrAj_LGcpirVrRB6C--111" target="FbjrAj_LGcpirVrRB6C--117">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--111" value="if existShippingTypeId = [0,1]&lt;div&gt;&amp;amp;&amp;amp;&lt;/div&gt;&lt;div&gt;nowShippingType = [2,3]&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="FbjrAj_LGcpirVrRB6C--44">
          <mxGeometry x="1470" y="151" width="220" height="160" as="geometry" />
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--112" value="&lt;b&gt;END&lt;/b&gt;" style="html=1;dashed=0;whiteSpace=wrap;shape=mxgraph.dfd.start" vertex="1" parent="FbjrAj_LGcpirVrRB6C--44">
          <mxGeometry x="2160" y="406" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--143" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="FbjrAj_LGcpirVrRB6C--44" source="FbjrAj_LGcpirVrRB6C--117" target="FbjrAj_LGcpirVrRB6C--134">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--117" value="if existShippingTypeId = [2,3]&lt;div&gt;&amp;amp;&amp;amp;&lt;/div&gt;&lt;div&gt;nowShippingType = [0,1]&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="FbjrAj_LGcpirVrRB6C--44">
          <mxGeometry x="1470" y="341" width="220" height="160" as="geometry" />
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--119" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="FbjrAj_LGcpirVrRB6C--44" source="FbjrAj_LGcpirVrRB6C--50" target="FbjrAj_LGcpirVrRB6C--111">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--122" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="FbjrAj_LGcpirVrRB6C--44" source="FbjrAj_LGcpirVrRB6C--111" target="FbjrAj_LGcpirVrRB6C--112">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1920" y="231" />
              <mxPoint x="1920" y="421" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--132" value="No" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="FbjrAj_LGcpirVrRB6C--122">
          <mxGeometry x="-0.6695" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--125" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="FbjrAj_LGcpirVrRB6C--44" source="FbjrAj_LGcpirVrRB6C--117" target="FbjrAj_LGcpirVrRB6C--112">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--133" value="No" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="FbjrAj_LGcpirVrRB6C--125">
          <mxGeometry x="-0.6541" y="2" relative="1" as="geometry">
            <mxPoint x="29" y="2" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--134" value="if existShippingTypeId = null&lt;div&gt;&amp;amp;&amp;amp;&lt;/div&gt;&lt;div&gt;nowShippingType = [2,3]&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="FbjrAj_LGcpirVrRB6C--44">
          <mxGeometry x="1470" y="521" width="220" height="160" as="geometry" />
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--140" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="FbjrAj_LGcpirVrRB6C--44" source="FbjrAj_LGcpirVrRB6C--134" target="FbjrAj_LGcpirVrRB6C--112">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1920" y="601" />
              <mxPoint x="1920" y="421" />
              <mxPoint x="2150" y="421" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--142" value="No" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="FbjrAj_LGcpirVrRB6C--140">
          <mxGeometry x="-0.6605" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--64" value="OSH" style="swimlane;html=1;startSize=20;horizontal=0;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="FbjrAj_LGcpirVrRB6C--41">
          <mxGeometry x="20" y="850" width="2550" height="310" as="geometry" />
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--65" value="&lt;span style=&quot;text-align: left;&quot;&gt;/update-merchant&lt;/span&gt;" style="html=1;dashed=0;whiteSpace=wrap;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="FbjrAj_LGcpirVrRB6C--64">
          <mxGeometry x="300" y="60" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--66" value="create-merchant-delivery-round" style="html=1;dashed=0;whiteSpace=wrap;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="FbjrAj_LGcpirVrRB6C--64">
          <mxGeometry x="132.5" y="60" width="135" height="50" as="geometry" />
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--67" value="&lt;span style=&quot;color: rgb(204, 0, 0); font-size: 11px;&quot;&gt;&lt;b&gt;&lt;u&gt;เพิ่ม API ใหม่ &lt;/u&gt;&lt;/b&gt;สำหรับ insert ลง table delivery_round&lt;/span&gt;" style="shape=note2;boundedLbl=1;whiteSpace=wrap;html=1;size=25;verticalAlign=top;align=center;" vertex="1" parent="FbjrAj_LGcpirVrRB6C--64">
          <mxGeometry x="112.5" y="128.5" width="175" height="70" as="geometry" />
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--68" value="&lt;font color=&quot;#cc0000&quot;&gt;&lt;span style=&quot;font-size: 11px;&quot;&gt;แก้ไข API ใหม่ สำหรับ update ลง table delivery_round แก้ไข Flow merchant_master ให้&lt;b&gt;&amp;nbsp;ถ้ามี merchant_master ให้อัพเดต&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;" style="shape=note2;boundedLbl=1;whiteSpace=wrap;html=1;size=25;verticalAlign=top;align=center;" vertex="1" parent="FbjrAj_LGcpirVrRB6C--64">
          <mxGeometry x="293.5" y="126" width="170" height="99" as="geometry" />
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--74" value="&lt;font color=&quot;#cc0000&quot;&gt;*** แก้ไข query ฝั่ง osh ในส่วนของ Table delivery_round, merchant_store_relation, merchant_product_master ให้ยกเลิกการ LEFT JOIN กับ merchant_master&lt;/font&gt;" style="shape=note2;boundedLbl=1;whiteSpace=wrap;html=1;size=25;verticalAlign=top;align=center;fontStyle=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="FbjrAj_LGcpirVrRB6C--64">
          <mxGeometry x="1820" y="18.5" width="270" height="110" as="geometry" />
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--84" value="&lt;b&gt;API&lt;/b&gt;&lt;div&gt;- /merchant-darkstore-relation&lt;/div&gt;&lt;div&gt;- /list-merchant-relational/:merchantId &lt;font color=&quot;#cc0000&quot;&gt;// ลบ merchant_type ไม่ได้ใช้&lt;/font&gt;&lt;/div&gt;&lt;div&gt;-&amp;nbsp;/verify-merchant-darkstore-relational/:merchantId&lt;/div&gt;&lt;div&gt;-&amp;nbsp;/count-merchant-relational &lt;font color=&quot;#ff3333&quot;&gt;// ลบการ left join merchant_master&lt;/font&gt;&lt;/div&gt;&lt;div&gt;- /export-member-dark-store&lt;br&gt;&lt;/div&gt;&lt;div&gt;- /create-merchant&lt;/div&gt;&lt;div&gt;- /update-merchant&lt;/div&gt;&lt;div&gt;-&amp;nbsp;/permanent-delete-merchant/:merchantId &lt;font color=&quot;#cc0000&quot;&gt;// ไม่ต้อง error ถ้าไม่มี&lt;/font&gt;&lt;/div&gt;&lt;div&gt;-&amp;nbsp;/merchant-delivery-round-list/:merchantId &lt;font color=&quot;#ff0000&quot;&gt;// ลบ left join merchant_master&lt;/font&gt;&lt;/div&gt;&lt;div&gt;-&amp;nbsp;/merchant-delivery-round&lt;/div&gt;&lt;div&gt;-&amp;nbsp;/export-member-dark-store&lt;font color=&quot;#00cc00&quot;&gt;&lt;b&gt; // ไม่ต้องแก้ เพราะจะ export ที่เป็น darkstore จริงๆ&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;SQS&lt;/b&gt;&lt;/div&gt;&lt;div&gt;-&amp;nbsp;&lt;span style=&quot;background-color: initial;&quot;&gt;ProcessMessageMerchantProductMaster &lt;font color=&quot;#cc0000&quot;&gt;//รีเทส&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;-&amp;nbsp;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="FbjrAj_LGcpirVrRB6C--64">
          <mxGeometry x="2110" width="440" height="259" as="geometry" />
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--87" value="&lt;span style=&quot;text-align: left;&quot;&gt;permanent-delete-merchant&lt;/span&gt;" style="html=1;dashed=0;whiteSpace=wrap;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="FbjrAj_LGcpirVrRB6C--64">
          <mxGeometry x="490" y="61" width="160" height="50" as="geometry" />
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--98" value="&lt;span style=&quot;text-align: left;&quot;&gt;merchant-darkstore-relation&lt;/span&gt;" style="html=1;dashed=0;whiteSpace=wrap;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="FbjrAj_LGcpirVrRB6C--64">
          <mxGeometry x="690" y="60" width="160" height="50" as="geometry" />
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--100" value="&lt;font color=&quot;#cc0000&quot;&gt;&lt;span style=&quot;font-size: 11px;&quot;&gt;แก้ไข API ใหม่ ยกเลิกการตรวจสอบ merchant_master ออก และยกเลิกการตรวจสอบ merchant_type&lt;/span&gt;&lt;/font&gt;" style="shape=note2;boundedLbl=1;whiteSpace=wrap;html=1;size=25;verticalAlign=top;align=center;" vertex="1" parent="FbjrAj_LGcpirVrRB6C--64">
          <mxGeometry x="690" y="126" width="160" height="99" as="geometry" />
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--101" value="&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;/verify-merchant-darkstore-relational/:merchantId&lt;/span&gt;&lt;/div&gt;" style="html=1;dashed=0;whiteSpace=wrap;fillColor=#ffe6cc;strokeColor=#d79b00;align=center;" vertex="1" parent="FbjrAj_LGcpirVrRB6C--64">
          <mxGeometry x="870" y="92" width="200" height="50" as="geometry" />
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--102" value="&lt;div style=&quot;&quot;&gt;/list-merchant-relational/:merchantId&lt;br&gt;&lt;/div&gt;" style="html=1;dashed=0;whiteSpace=wrap;fillColor=#ffe6cc;strokeColor=#d79b00;align=center;" vertex="1" parent="FbjrAj_LGcpirVrRB6C--64">
          <mxGeometry x="1090" y="91" width="200" height="50" as="geometry" />
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--103" value="&lt;font color=&quot;#cc0000&quot;&gt;&lt;span style=&quot;font-size: 11px;&quot;&gt;ยกเลิกการ LEFT JOIN ของ merchant_master และ merchant_type เนื่องจากไม่ได้ใช้ที่ฝั่ง STH&lt;/span&gt;&lt;/font&gt;" style="shape=note2;boundedLbl=1;whiteSpace=wrap;html=1;size=25;verticalAlign=top;align=center;" vertex="1" parent="FbjrAj_LGcpirVrRB6C--64">
          <mxGeometry x="950" y="198.5" width="259" height="85" as="geometry" />
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--109" value="&lt;font style=&quot;text-wrap: nowrap; font-size: 11px;&quot; color=&quot;#ff0000&quot;&gt;&lt;b&gt;* ลบทุกครั้งที่มีการส่งมา&amp;nbsp;&lt;/b&gt;&lt;/font&gt;&lt;div style=&quot;text-wrap: nowrap; font-size: 11px;&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;ตั้งแต่ shippingTypeId 0,1,2,3&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-wrap: nowrap; font-size: 11px;&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;- ลบ code insert table&amp;nbsp;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-wrap: nowrap; font-size: 11px;&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;l&lt;/b&gt;&lt;/font&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;ogPermanentDeleteMerchantMaster&lt;/b&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;" style="shape=note2;boundedLbl=1;whiteSpace=wrap;html=1;size=25;verticalAlign=top;align=center;" vertex="1" parent="FbjrAj_LGcpirVrRB6C--64">
          <mxGeometry x="470" y="126" width="200" height="99" as="geometry" />
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--69" value="" style="group" vertex="1" connectable="0" parent="FbjrAj_LGcpirVrRB6C--64">
          <mxGeometry x="1460" y="60" width="220" height="100" as="geometry" />
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--70" value="" style="group" vertex="1" connectable="0" parent="FbjrAj_LGcpirVrRB6C--69">
          <mxGeometry x="-22" width="253.00000000000003" height="100" as="geometry" />
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--71" value="API /Merchant Master Information" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="FbjrAj_LGcpirVrRB6C--70">
          <mxGeometry y="29.411764705882355" width="240.952380952381" height="70.58823529411765" as="geometry" />
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--73" value="&amp;nbsp;รับข้อมูลของ hub และ action ของ hub [ใช้ &lt;i&gt;bigPlayload&lt;/i&gt;]&lt;div&gt;- ถ้า action = add ให้ &lt;b&gt;&lt;u&gt;insert&amp;nbsp;or duplicate&lt;/u&gt;&lt;/b&gt; ข้อมูลใน merchant_master โดย&amp;nbsp;&lt;b style=&quot;background-color: initial; color: rgb(204, 0, 0);&quot;&gt;&amp;nbsp;enable = &#39;Y&#39;, is_delete = &#39;N&#39;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;background-color: initial; color: rgb(204, 0, 0);&quot;&gt;&amp;nbsp; &amp;nbsp;- ถ้าไม่มีให้สร้างใหม่&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;background-color: initial; color: rgb(204, 0, 0);&quot;&gt;&amp;nbsp; &amp;nbsp;- ถ้ามีอยู่แล้วก็จะ update fact ให้ถูกต้องตาม shippingTypeId ล่าสุดของ storehub ปัจจุบัน&lt;/b&gt;&lt;/div&gt;&lt;div&gt;- ถ้า action = delete ให้ ตรวจสอบว่ามีข้อมูล merchant_master หรือไม่ ถ้ามีให้ &lt;b&gt;&lt;u&gt;update&lt;/u&gt;&lt;/b&gt; ข้อมูล merchant_master เป็น&amp;nbsp;&lt;b style=&quot;background-color: initial; color: rgb(204, 0, 0);&quot;&gt;&lt;strike&gt;enable = &#39;N&#39;&lt;/strike&gt;, is_delete = &#39;Y&lt;/b&gt;&lt;/div&gt;" style="shape=note2;boundedLbl=1;whiteSpace=wrap;html=1;size=25;verticalAlign=top;align=left;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="FbjrAj_LGcpirVrRB6C--64">
          <mxGeometry x="1260" y="169.5" width="750" height="130.5" as="geometry" />
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--162" value="&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;text-align: left;&quot;&gt;/merchant-delivery-round-list/:merchantId&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="html=1;dashed=0;whiteSpace=wrap;fillColor=#ffe6cc;strokeColor=#d79b00;align=center;" vertex="1" parent="FbjrAj_LGcpirVrRB6C--64">
          <mxGeometry x="979.5" y="18.5" width="200" height="50" as="geometry" />
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--163" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="FbjrAj_LGcpirVrRB6C--64" source="FbjrAj_LGcpirVrRB6C--162" target="FbjrAj_LGcpirVrRB6C--103">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--165" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="FbjrAj_LGcpirVrRB6C--64" source="FbjrAj_LGcpirVrRB6C--101" target="FbjrAj_LGcpirVrRB6C--103">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--167" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="FbjrAj_LGcpirVrRB6C--64" source="FbjrAj_LGcpirVrRB6C--102" target="FbjrAj_LGcpirVrRB6C--103">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--115" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="FbjrAj_LGcpirVrRB6C--41" source="FbjrAj_LGcpirVrRB6C--111" target="FbjrAj_LGcpirVrRB6C--71">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1470" y="670" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1390" y="231" />
              <mxPoint x="1390" y="975" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--116" value="Yes" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="FbjrAj_LGcpirVrRB6C--115">
          <mxGeometry x="-0.0919" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--129" value="&lt;b&gt;action = &quot;add&quot;&lt;/b&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="FbjrAj_LGcpirVrRB6C--115">
          <mxGeometry x="0.1462" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--123" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0;" edge="1" parent="FbjrAj_LGcpirVrRB6C--41" source="FbjrAj_LGcpirVrRB6C--117" target="FbjrAj_LGcpirVrRB6C--71">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1630" y="641" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1440" y="421" />
              <mxPoint x="1440" y="957" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--124" value="Yes" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="FbjrAj_LGcpirVrRB6C--123">
          <mxGeometry x="-0.7455" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--131" value="&lt;b&gt;action = &quot;delete&quot;&lt;/b&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="FbjrAj_LGcpirVrRB6C--123">
          <mxGeometry x="-0.553" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--137" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.25;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="FbjrAj_LGcpirVrRB6C--41" source="FbjrAj_LGcpirVrRB6C--134" target="FbjrAj_LGcpirVrRB6C--71">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1470" y="601" />
              <mxPoint x="1470" y="711" />
              <mxPoint x="1518" y="711" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--138" value="Yes" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="FbjrAj_LGcpirVrRB6C--137">
          <mxGeometry x="-0.3177" y="-1" relative="1" as="geometry">
            <mxPoint x="-9" y="-59" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FbjrAj_LGcpirVrRB6C--139" value="&lt;b&gt;action = &quot;add&quot;&lt;/b&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="FbjrAj_LGcpirVrRB6C--137">
          <mxGeometry x="0.3896" y="-1" relative="1" as="geometry">
            <mxPoint x="-27" y="-104" as="offset" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="3TfJcCTkWGr5aXk2wEal" name="หน้า-2">
    <mxGraphModel dx="2589" dy="468" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-1" value="&lt;span style=&quot;color: rgb(0, 0, 0); font-family: Helvetica; font-size: 20px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(251, 251, 251); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;&quot;&gt;Solution 3 เปลี่ยนวิธีการทำงาน จะสร้าง delivery_round, merchant_store_relation, merchant_product_master ที่ OSH โดยไม่สนใจ merchant_master&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="100" y="1209" width="1310" height="50" as="geometry" />
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-2" value="Service" style="swimlane;html=1;childLayout=stackLayout;resizeParent=1;resizeParentMax=0;horizontal=0;startSize=20;horizontalStack=0;" vertex="1" parent="1">
          <mxGeometry x="100" y="1259" width="2570" height="1160" as="geometry" />
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="yf4iF6yDkmhdbDU6Azpp-2" source="yf4iF6yDkmhdbDU6Azpp-20" target="yf4iF6yDkmhdbDU6Azpp-44">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="yf4iF6yDkmhdbDU6Azpp-2" source="yf4iF6yDkmhdbDU6Azpp-18" target="yf4iF6yDkmhdbDU6Azpp-45">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="yf4iF6yDkmhdbDU6Azpp-2" source="yf4iF6yDkmhdbDU6Azpp-26" target="yf4iF6yDkmhdbDU6Azpp-51">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="yf4iF6yDkmhdbDU6Azpp-2" source="yf4iF6yDkmhdbDU6Azpp-26" target="yf4iF6yDkmhdbDU6Azpp-53">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="yf4iF6yDkmhdbDU6Azpp-2" source="yf4iF6yDkmhdbDU6Azpp-26" target="yf4iF6yDkmhdbDU6Azpp-54">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="yf4iF6yDkmhdbDU6Azpp-2" source="yf4iF6yDkmhdbDU6Azpp-28" target="yf4iF6yDkmhdbDU6Azpp-50">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-9" value="StoreHub" style="swimlane;html=1;startSize=20;horizontal=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="yf4iF6yDkmhdbDU6Azpp-2">
          <mxGeometry x="20" width="2550" height="850" as="geometry" />
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="yf4iF6yDkmhdbDU6Azpp-9" source="yf4iF6yDkmhdbDU6Azpp-14" target="yf4iF6yDkmhdbDU6Azpp-20">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="yf4iF6yDkmhdbDU6Azpp-9" source="yf4iF6yDkmhdbDU6Azpp-14" target="yf4iF6yDkmhdbDU6Azpp-24">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="430" y="30" />
              <mxPoint x="430" y="66" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="yf4iF6yDkmhdbDU6Azpp-9" source="yf4iF6yDkmhdbDU6Azpp-14" target="yf4iF6yDkmhdbDU6Azpp-26">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="430" y="30" />
              <mxPoint x="430" y="145" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="yf4iF6yDkmhdbDU6Azpp-9" source="yf4iF6yDkmhdbDU6Azpp-14" target="yf4iF6yDkmhdbDU6Azpp-28">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="430" y="30" />
              <mxPoint x="430" y="216" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-14" value="start" style="ellipse;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="yf4iF6yDkmhdbDU6Azpp-9">
          <mxGeometry x="40" y="10" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-15" value="" style="group" vertex="1" connectable="0" parent="yf4iF6yDkmhdbDU6Azpp-9">
          <mxGeometry x="1490" y="51" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-16" value="Process Hub Shipping Type" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="yf4iF6yDkmhdbDU6Azpp-15">
          <mxGeometry y="20" width="180" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-17" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#E7157B;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.sqs;" vertex="1" parent="yf4iF6yDkmhdbDU6Azpp-15">
          <mxGeometry x="160" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-18" value="create-hub" style="html=1;dashed=0;whiteSpace=wrap;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="yf4iF6yDkmhdbDU6Azpp-9">
          <mxGeometry x="150" y="70" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-19" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="yf4iF6yDkmhdbDU6Azpp-9" source="yf4iF6yDkmhdbDU6Azpp-14" target="yf4iF6yDkmhdbDU6Azpp-18">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="220" y="180" as="sourcePoint" />
            <mxPoint x="660" y="180" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-20" value="update-hub" style="html=1;dashed=0;whiteSpace=wrap;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="yf4iF6yDkmhdbDU6Azpp-9">
          <mxGeometry x="310" y="70" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-21" value="&lt;font color=&quot;#cc0000&quot;&gt;ส่ง req สำหรับ insert ใน OSH table delivery_round&lt;/font&gt;" style="shape=note2;boundedLbl=1;whiteSpace=wrap;html=1;size=25;verticalAlign=top;align=center;" vertex="1" parent="yf4iF6yDkmhdbDU6Azpp-9">
          <mxGeometry x="40" y="151" width="150" height="70" as="geometry" />
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-22" value="&lt;span style=&quot;color: rgb(204, 0, 0);&quot;&gt;ส่ง req เหมือนเดิม หรือแก้ไข req เฉพาะที่ update&lt;/span&gt;" style="shape=note2;boundedLbl=1;whiteSpace=wrap;html=1;size=25;verticalAlign=top;align=center;" vertex="1" parent="yf4iF6yDkmhdbDU6Azpp-9">
          <mxGeometry x="214" y="151" width="136" height="69" as="geometry" />
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-23" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="yf4iF6yDkmhdbDU6Azpp-9" source="yf4iF6yDkmhdbDU6Azpp-24" target="yf4iF6yDkmhdbDU6Azpp-16">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1260" y="66" />
              <mxPoint x="1260" y="101" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-24" value="ผูกโครงการ / โครงการ Darkstore" style="html=1;dashed=0;whiteSpace=wrap;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="yf4iF6yDkmhdbDU6Azpp-9">
          <mxGeometry x="500" y="41" width="140" height="50" as="geometry" />
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-25" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="yf4iF6yDkmhdbDU6Azpp-9" source="yf4iF6yDkmhdbDU6Azpp-26" target="yf4iF6yDkmhdbDU6Azpp-16">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1260" y="145" />
              <mxPoint x="1260" y="101" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-26" value="ผูกร้านลูก / ร้านลูก Darkstore" style="html=1;dashed=0;whiteSpace=wrap;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="yf4iF6yDkmhdbDU6Azpp-9">
          <mxGeometry x="500" y="120" width="140" height="50" as="geometry" />
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-27" value="&lt;font color=&quot;#cc0000&quot;&gt;&lt;b&gt;เพิ่ม Logic การตรวจสอบข้อมูล shippingType ว่าต้อง create หรือ delete ที่ OSH และส่งข้อมูล hub master ที่มี action แล้ว ส่งไป sqs ที่ OSH เพื่อสร้างข้อมูล merchant_master&lt;/b&gt;&lt;/font&gt;" style="shape=note2;boundedLbl=1;whiteSpace=wrap;html=1;size=25;verticalAlign=top;align=center;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="yf4iF6yDkmhdbDU6Azpp-9">
          <mxGeometry x="1730" y="61" width="360" height="90" as="geometry" />
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-28" value="&lt;span style=&quot;text-align: left;&quot;&gt;permanent-delete-hub&lt;/span&gt;" style="html=1;dashed=0;whiteSpace=wrap;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="yf4iF6yDkmhdbDU6Azpp-9">
          <mxGeometry x="500" y="191" width="140" height="50" as="geometry" />
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-29" value="&lt;font color=&quot;#cc0000&quot;&gt;&lt;b&gt;- ถ้า shippingTypeId เดิมของ Hub เป็น 0 หรือ 1 และของล่าสุดคือ 2 หรือ 3 จะสร้าง message hub information และ &lt;u&gt;action = add&lt;/u&gt;&lt;/b&gt;&lt;/font&gt;&lt;div&gt;&lt;font color=&quot;#cc0000&quot;&gt;&lt;b&gt;-&amp;nbsp;&lt;/b&gt;&lt;/font&gt;&lt;b style=&quot;background-color: initial; color: rgb(204, 0, 0);&quot;&gt;ถ้า shippingTypeId เดิมของ Hub เป็น 2 หรือ 3 และของล่าสุดคือ 0 หรือ 1&lt;/b&gt;&lt;b style=&quot;background-color: initial; color: rgb(204, 0, 0);&quot;&gt;&amp;nbsp;จะสร้าง message hub information และ &lt;u&gt;action = delete&lt;/u&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;background-color: initial; color: rgb(204, 0, 0);&quot;&gt;- ถ้า shippingTypeId เดิมของ Hub ไม่เคยมีอยู่ และของล่าสุดคือ 2 หรือ 3 จะสร้าง&amp;nbsp;&lt;/b&gt;&lt;b style=&quot;background-color: initial; color: rgb(204, 0, 0);&quot;&gt;&amp;nbsp;message hub information และ&amp;nbsp;&lt;u&gt;action = add&lt;/u&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;background-color: initial; color: rgb(204, 0, 0);&quot;&gt;- ถ้า shippingTypeId เดิมของ Hub และของล่าสุด เหมือนเดิม! ไม่ต้องทำอะไร!&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="yf4iF6yDkmhdbDU6Azpp-9">
          <mxGeometry x="1570" y="701" width="850" height="79" as="geometry" />
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-30" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="yf4iF6yDkmhdbDU6Azpp-9" source="yf4iF6yDkmhdbDU6Azpp-31" target="yf4iF6yDkmhdbDU6Azpp-34">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-31" value="if existShippingTypeId = [0,1]&lt;div&gt;&amp;amp;&amp;amp;&lt;/div&gt;&lt;div&gt;nowShippingType = [2,3]&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="yf4iF6yDkmhdbDU6Azpp-9">
          <mxGeometry x="1470" y="151" width="220" height="160" as="geometry" />
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-32" value="&lt;b&gt;END&lt;/b&gt;" style="html=1;dashed=0;whiteSpace=wrap;shape=mxgraph.dfd.start" vertex="1" parent="yf4iF6yDkmhdbDU6Azpp-9">
          <mxGeometry x="2160" y="406" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-33" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="yf4iF6yDkmhdbDU6Azpp-9" source="yf4iF6yDkmhdbDU6Azpp-34" target="yf4iF6yDkmhdbDU6Azpp-40">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-34" value="if existShippingTypeId = [2,3]&lt;div&gt;&amp;amp;&amp;amp;&lt;/div&gt;&lt;div&gt;nowShippingType = [0,1]&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="yf4iF6yDkmhdbDU6Azpp-9">
          <mxGeometry x="1470" y="341" width="220" height="160" as="geometry" />
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-35" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="yf4iF6yDkmhdbDU6Azpp-9" source="yf4iF6yDkmhdbDU6Azpp-16" target="yf4iF6yDkmhdbDU6Azpp-31">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-36" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="yf4iF6yDkmhdbDU6Azpp-9" source="yf4iF6yDkmhdbDU6Azpp-31" target="yf4iF6yDkmhdbDU6Azpp-32">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1920" y="231" />
              <mxPoint x="1920" y="421" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-37" value="No" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="yf4iF6yDkmhdbDU6Azpp-36">
          <mxGeometry x="-0.6695" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-38" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="yf4iF6yDkmhdbDU6Azpp-9" source="yf4iF6yDkmhdbDU6Azpp-34" target="yf4iF6yDkmhdbDU6Azpp-32">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-39" value="No" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="yf4iF6yDkmhdbDU6Azpp-38">
          <mxGeometry x="-0.6541" y="2" relative="1" as="geometry">
            <mxPoint x="29" y="2" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-40" value="if existShippingTypeId = null&lt;div&gt;&amp;amp;&amp;amp;&lt;/div&gt;&lt;div&gt;nowShippingType = [2,3]&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="yf4iF6yDkmhdbDU6Azpp-9">
          <mxGeometry x="1470" y="521" width="220" height="160" as="geometry" />
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-41" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="yf4iF6yDkmhdbDU6Azpp-9" source="yf4iF6yDkmhdbDU6Azpp-40" target="yf4iF6yDkmhdbDU6Azpp-32">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1920" y="601" />
              <mxPoint x="1920" y="421" />
              <mxPoint x="2150" y="421" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-42" value="No" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="yf4iF6yDkmhdbDU6Azpp-41">
          <mxGeometry x="-0.6605" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-43" value="OSH" style="swimlane;html=1;startSize=20;horizontal=0;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="yf4iF6yDkmhdbDU6Azpp-2">
          <mxGeometry x="20" y="850" width="2550" height="310" as="geometry" />
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-44" value="&lt;span style=&quot;text-align: left;&quot;&gt;/update-merchant&lt;/span&gt;" style="html=1;dashed=0;whiteSpace=wrap;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="yf4iF6yDkmhdbDU6Azpp-43">
          <mxGeometry x="300" y="60" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-45" value="create-merchant-delivery-round" style="html=1;dashed=0;whiteSpace=wrap;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="yf4iF6yDkmhdbDU6Azpp-43">
          <mxGeometry x="132.5" y="60" width="135" height="50" as="geometry" />
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-46" value="&lt;span style=&quot;color: rgb(204, 0, 0); font-size: 11px;&quot;&gt;&lt;b&gt;&lt;u&gt;เพิ่ม API ใหม่ &lt;/u&gt;&lt;/b&gt;สำหรับ insert ลง table delivery_round&lt;/span&gt;" style="shape=note2;boundedLbl=1;whiteSpace=wrap;html=1;size=25;verticalAlign=top;align=center;" vertex="1" parent="yf4iF6yDkmhdbDU6Azpp-43">
          <mxGeometry x="112.5" y="128.5" width="175" height="70" as="geometry" />
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-47" value="&lt;font color=&quot;#cc0000&quot;&gt;&lt;span style=&quot;font-size: 11px;&quot;&gt;แก้ไข API ใหม่ สำหรับ update ลง table delivery_round แก้ไข Flow merchant_master ให้&lt;b&gt;&amp;nbsp;ถ้ามี merchant_master ให้อัพเดต&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;" style="shape=note2;boundedLbl=1;whiteSpace=wrap;html=1;size=25;verticalAlign=top;align=center;" vertex="1" parent="yf4iF6yDkmhdbDU6Azpp-43">
          <mxGeometry x="293.5" y="126" width="170" height="99" as="geometry" />
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-48" value="&lt;font color=&quot;#cc0000&quot;&gt;*** แก้ไข query ฝั่ง osh ในส่วนของ Table delivery_round, merchant_store_relation, merchant_product_master ให้ยกเลิกการ LEFT JOIN กับ merchant_master&lt;/font&gt;" style="shape=note2;boundedLbl=1;whiteSpace=wrap;html=1;size=25;verticalAlign=top;align=center;fontStyle=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="yf4iF6yDkmhdbDU6Azpp-43">
          <mxGeometry x="1820" y="18.5" width="270" height="110" as="geometry" />
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-49" value="&lt;b&gt;API&lt;/b&gt;&lt;div&gt;- /merchant-darkstore-relation&lt;/div&gt;&lt;div&gt;- /list-merchant-relational/:merchantId &lt;font color=&quot;#cc0000&quot;&gt;// ลบ merchant_type ไม่ได้ใช้&lt;/font&gt;&lt;/div&gt;&lt;div&gt;-&amp;nbsp;/verify-merchant-darkstore-relational/:merchantId&lt;/div&gt;&lt;div&gt;-&amp;nbsp;/count-merchant-relational &lt;font color=&quot;#ff3333&quot;&gt;// ลบการ left join merchant_master&lt;/font&gt;&lt;/div&gt;&lt;div&gt;- /export-member-dark-store&lt;br&gt;&lt;/div&gt;&lt;div&gt;- /create-merchant&lt;/div&gt;&lt;div&gt;- /update-merchant&lt;/div&gt;&lt;div&gt;-&amp;nbsp;/permanent-delete-merchant/:merchantId &lt;font color=&quot;#cc0000&quot;&gt;// ไม่ต้อง error ถ้าไม่มี&lt;/font&gt;&lt;/div&gt;&lt;div&gt;-&amp;nbsp;/merchant-delivery-round-list/:merchantId &lt;font color=&quot;#ff0000&quot;&gt;// ลบ left join merchant_master&lt;/font&gt;&lt;/div&gt;&lt;div&gt;-&amp;nbsp;/merchant-delivery-round&lt;/div&gt;&lt;div&gt;-&amp;nbsp;/export-member-dark-store&lt;font color=&quot;#00cc00&quot;&gt;&lt;b&gt; // ไม่ต้องแก้ เพราะจะ export ที่เป็น darkstore จริงๆ&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;SQS&lt;/b&gt;&lt;/div&gt;&lt;div&gt;-&amp;nbsp;&lt;span style=&quot;background-color: initial;&quot;&gt;ProcessMessageMerchantProductMaster &lt;font color=&quot;#cc0000&quot;&gt;//รีเทส&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;-&amp;nbsp;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="yf4iF6yDkmhdbDU6Azpp-43">
          <mxGeometry x="2110" width="440" height="259" as="geometry" />
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-50" value="&lt;span style=&quot;text-align: left;&quot;&gt;permanent-delete-merchant&lt;/span&gt;" style="html=1;dashed=0;whiteSpace=wrap;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="yf4iF6yDkmhdbDU6Azpp-43">
          <mxGeometry x="490" y="61" width="160" height="50" as="geometry" />
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-51" value="&lt;span style=&quot;text-align: left;&quot;&gt;merchant-darkstore-relation&lt;/span&gt;" style="html=1;dashed=0;whiteSpace=wrap;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="yf4iF6yDkmhdbDU6Azpp-43">
          <mxGeometry x="690" y="60" width="160" height="50" as="geometry" />
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-52" value="&lt;font color=&quot;#cc0000&quot;&gt;&lt;span style=&quot;font-size: 11px;&quot;&gt;แก้ไข API ใหม่ ยกเลิกการตรวจสอบ merchant_master ออก และยกเลิกการตรวจสอบ merchant_type&lt;/span&gt;&lt;/font&gt;" style="shape=note2;boundedLbl=1;whiteSpace=wrap;html=1;size=25;verticalAlign=top;align=center;" vertex="1" parent="yf4iF6yDkmhdbDU6Azpp-43">
          <mxGeometry x="690" y="126" width="160" height="99" as="geometry" />
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-53" value="&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;/verify-merchant-darkstore-relational/:merchantId&lt;/span&gt;&lt;/div&gt;" style="html=1;dashed=0;whiteSpace=wrap;fillColor=#ffe6cc;strokeColor=#d79b00;align=center;" vertex="1" parent="yf4iF6yDkmhdbDU6Azpp-43">
          <mxGeometry x="870" y="92" width="200" height="50" as="geometry" />
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-54" value="&lt;div style=&quot;&quot;&gt;/list-merchant-relational/:merchantId&lt;br&gt;&lt;/div&gt;" style="html=1;dashed=0;whiteSpace=wrap;fillColor=#ffe6cc;strokeColor=#d79b00;align=center;" vertex="1" parent="yf4iF6yDkmhdbDU6Azpp-43">
          <mxGeometry x="1090" y="91" width="200" height="50" as="geometry" />
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-55" value="&lt;font color=&quot;#cc0000&quot;&gt;&lt;span style=&quot;font-size: 11px;&quot;&gt;ยกเลิกการ LEFT JOIN ของ merchant_master และ merchant_type เนื่องจากไม่ได้ใช้ที่ฝั่ง STH&lt;/span&gt;&lt;/font&gt;" style="shape=note2;boundedLbl=1;whiteSpace=wrap;html=1;size=25;verticalAlign=top;align=center;" vertex="1" parent="yf4iF6yDkmhdbDU6Azpp-43">
          <mxGeometry x="950" y="198.5" width="259" height="85" as="geometry" />
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-56" value="&lt;font style=&quot;text-wrap: nowrap; font-size: 11px;&quot; color=&quot;#ff0000&quot;&gt;&lt;b&gt;* ลบทุกครั้งที่มีการส่งมา&amp;nbsp;&lt;/b&gt;&lt;/font&gt;&lt;div style=&quot;text-wrap: nowrap; font-size: 11px;&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;ตั้งแต่ shippingTypeId 0,1,2,3&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-wrap: nowrap; font-size: 11px;&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;- ลบ code insert table&amp;nbsp;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-wrap: nowrap; font-size: 11px;&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;l&lt;/b&gt;&lt;/font&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;ogPermanentDeleteMerchantMaster&lt;/b&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;" style="shape=note2;boundedLbl=1;whiteSpace=wrap;html=1;size=25;verticalAlign=top;align=center;" vertex="1" parent="yf4iF6yDkmhdbDU6Azpp-43">
          <mxGeometry x="470" y="126" width="200" height="99" as="geometry" />
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-57" value="" style="group" vertex="1" connectable="0" parent="yf4iF6yDkmhdbDU6Azpp-43">
          <mxGeometry x="1460" y="60" width="220" height="100" as="geometry" />
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-58" value="" style="group" vertex="1" connectable="0" parent="yf4iF6yDkmhdbDU6Azpp-57">
          <mxGeometry x="-22" width="253.00000000000003" height="100" as="geometry" />
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-59" value="API /Merchant Master Information" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="yf4iF6yDkmhdbDU6Azpp-58">
          <mxGeometry y="29.411764705882355" width="240.952380952381" height="70.58823529411765" as="geometry" />
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-60" value="&amp;nbsp;รับข้อมูลของ hub และ action ของ hub [ใช้ &lt;i&gt;bigPlayload&lt;/i&gt;]&lt;div&gt;- ถ้า action = add ให้ &lt;b&gt;&lt;u&gt;insert&amp;nbsp;or duplicate&lt;/u&gt;&lt;/b&gt; ข้อมูลใน merchant_master โดย&amp;nbsp;&lt;b style=&quot;background-color: initial; color: rgb(204, 0, 0);&quot;&gt;&amp;nbsp;enable = &#39;Y&#39;, is_delete = &#39;N&#39;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;background-color: initial; color: rgb(204, 0, 0);&quot;&gt;&amp;nbsp; &amp;nbsp;- ถ้าไม่มีให้สร้างใหม่&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;background-color: initial; color: rgb(204, 0, 0);&quot;&gt;&amp;nbsp; &amp;nbsp;- ถ้ามีอยู่แล้วก็จะ update fact ให้ถูกต้องตาม shippingTypeId ล่าสุดของ storehub ปัจจุบัน&lt;/b&gt;&lt;/div&gt;&lt;div&gt;- ถ้า action = delete ให้ ตรวจสอบว่ามีข้อมูล merchant_master หรือไม่ ถ้ามีให้ &lt;b&gt;&lt;u&gt;update&lt;/u&gt;&lt;/b&gt; ข้อมูล merchant_master เป็น&amp;nbsp;&lt;b style=&quot;background-color: initial; color: rgb(204, 0, 0);&quot;&gt;&lt;strike&gt;enable = &#39;N&#39;&lt;/strike&gt;, is_delete = &#39;Y&lt;/b&gt;&lt;/div&gt;" style="shape=note2;boundedLbl=1;whiteSpace=wrap;html=1;size=25;verticalAlign=top;align=left;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="yf4iF6yDkmhdbDU6Azpp-43">
          <mxGeometry x="1260" y="169.5" width="750" height="130.5" as="geometry" />
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-61" value="&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;text-align: left;&quot;&gt;/merchant-delivery-round-list/:merchantId&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="html=1;dashed=0;whiteSpace=wrap;fillColor=#ffe6cc;strokeColor=#d79b00;align=center;" vertex="1" parent="yf4iF6yDkmhdbDU6Azpp-43">
          <mxGeometry x="979.5" y="18.5" width="200" height="50" as="geometry" />
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-62" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="yf4iF6yDkmhdbDU6Azpp-43" source="yf4iF6yDkmhdbDU6Azpp-61" target="yf4iF6yDkmhdbDU6Azpp-55">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-63" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="yf4iF6yDkmhdbDU6Azpp-43" source="yf4iF6yDkmhdbDU6Azpp-53" target="yf4iF6yDkmhdbDU6Azpp-55">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-64" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="yf4iF6yDkmhdbDU6Azpp-43" source="yf4iF6yDkmhdbDU6Azpp-54" target="yf4iF6yDkmhdbDU6Azpp-55">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-65" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="yf4iF6yDkmhdbDU6Azpp-2" source="yf4iF6yDkmhdbDU6Azpp-31" target="yf4iF6yDkmhdbDU6Azpp-59">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1470" y="670" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1390" y="231" />
              <mxPoint x="1390" y="975" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-66" value="Yes" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="yf4iF6yDkmhdbDU6Azpp-65">
          <mxGeometry x="-0.0919" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-67" value="&lt;b&gt;action = &quot;add&quot;&lt;/b&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="yf4iF6yDkmhdbDU6Azpp-65">
          <mxGeometry x="0.1462" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-68" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0;" edge="1" parent="yf4iF6yDkmhdbDU6Azpp-2" source="yf4iF6yDkmhdbDU6Azpp-34" target="yf4iF6yDkmhdbDU6Azpp-59">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1630" y="641" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1440" y="421" />
              <mxPoint x="1440" y="957" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-69" value="Yes" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="yf4iF6yDkmhdbDU6Azpp-68">
          <mxGeometry x="-0.7455" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-70" value="&lt;b&gt;action = &quot;delete&quot;&lt;/b&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="yf4iF6yDkmhdbDU6Azpp-68">
          <mxGeometry x="-0.553" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-71" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.25;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="yf4iF6yDkmhdbDU6Azpp-2" source="yf4iF6yDkmhdbDU6Azpp-40" target="yf4iF6yDkmhdbDU6Azpp-59">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1470" y="601" />
              <mxPoint x="1470" y="711" />
              <mxPoint x="1518" y="711" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-72" value="Yes" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="yf4iF6yDkmhdbDU6Azpp-71">
          <mxGeometry x="-0.3177" y="-1" relative="1" as="geometry">
            <mxPoint x="-9" y="-59" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="yf4iF6yDkmhdbDU6Azpp-73" value="&lt;b&gt;action = &quot;add&quot;&lt;/b&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="yf4iF6yDkmhdbDU6Azpp-71">
          <mxGeometry x="0.3896" y="-1" relative="1" as="geometry">
            <mxPoint x="-27" y="-104" as="offset" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
